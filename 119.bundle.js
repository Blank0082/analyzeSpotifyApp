"use strict";(self.webpackChunkanalyze_spotify_app=self.webpackChunkanalyze_spotify_app||[]).push([[119],{4119:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(7767),a=n(6540),o=n(1087),c=n(4285),i=n(4848);function s(){const e=(0,r.Zp)(),[t,n]=(0,a.useState)(null),[s,d]=(0,a.useState)(!1);(0,a.useEffect)((()=>{s||l().then((()=>d(!0)));const n=t=>{"authorized"===t.data.type?e("/playlists"):"AUTH_ERROR"===t.data.type&&e("/")},r=setInterval((()=>{t&&t.closed&&(clearInterval(r),d(!1),e("/"))}),1e3);return window.addEventListener("message",n,!1),()=>{window.removeEventListener("message",n,!1),clearInterval(r)}}),[e,,s,t]);const l=async()=>{const e=(()=>{const e=new Uint32Array(28);return window.crypto.getRandomValues(e),Array.from(e,(e=>("0"+e.toString(16)).slice(-2))).join("")})(),t=(r=await(async e=>{const t=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(t)})((new TextEncoder).encode(e)),btoa(String.fromCharCode.apply(null,r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""));var r;localStorage.setItem("code_verifier",e);const a=new URL("https://accounts.spotify.com/authorize");if(a.search=new URLSearchParams({client_id:o.A.client_id,response_type:"code",redirect_uri:o.A.redirect_uri,code_challenge_method:"S256",code_challenge:t,scope:o.A.scope}).toString(),(0,c.A)())window.location.href=a.toString();else{const e=window.open(a.toString(),"_blank");n(e)}};return(0,i.jsx)("div",{})}},1087:(e,t,n)=>{n.d(t,{A:()=>r});const r={redirect_uri:"undefined/callback",client_id:void 0,scope:void 0}},4285:(e,t,n)=>{function r(){return/Mobi|Android/i.test(navigator.userAgent)}n.d(t,{A:()=>r})}}]);